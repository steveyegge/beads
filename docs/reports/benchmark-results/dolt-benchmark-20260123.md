# Dolt Performance Benchmark Results

**Date**: 2026-01-23
**Platform**: Linux (AMD EPYC 7R13 @ 2.45GHz, 16 cores)
**Dolt Version**: 1.80.2
**Go Version**: 1.23.x

## Summary

These benchmarks measure the performance of the Dolt storage backend in embedded mode.

### Key Findings

| Metric | Value | Notes |
|--------|-------|-------|
| **Bootstrap time** | ~76ms | Cold start overhead for embedded mode |
| **Cold start (open+read+close)** | ~78ms | Typical CLI command cost |
| **Warm cache read** | ~1ms | Once store is open, reads are fast |
| **Issue creation** | ~7.4ms | Single issue insert |
| **Issue read** | ~1ms | Single issue fetch |
| **Issue update** | ~14ms | Single issue update |
| **Bulk create (100)** | ~334ms | ~3.3ms per issue in batch |
| **Bulk create (1000)** | ~3.2s | ~3.2ms per issue in batch |

### Performance Observations

1. **Bootstrap Overhead is Significant**: The ~76ms bootstrap time dominates CLI command latency. This is the primary target for optimization (server mode can reduce this to <10ms).

2. **Warm Cache Performance is Good**: Once the store is open, read operations are fast (~1ms). This benefits daemon mode and long-running processes.

3. **Write Operations are Slower**: Updates (~14ms) are notably slower than reads due to Dolt's versioning overhead (prolly tree updates, chunk hashing).

4. **Batch Operations Scale Well**: Bulk inserts show ~3.3ms/issue, much better than individual inserts (~7.4ms each).

## Detailed Results

### Bootstrap & Connection

| Benchmark | ns/op | B/op | allocs/op |
|-----------|-------|------|-----------|
| BenchmarkBootstrapEmbedded | 75,738,419 | 8,216,444 | 81,648 |
| BenchmarkColdStart | 77,759,835 | 8,779,817 | 89,364 |
| BenchmarkWarmCache | 1,016,523 | 473,724 | 5,720 |
| BenchmarkCLIWorkflow | 79,349,484 | 10,632,255 | 111,806 |

### CRUD Operations

| Benchmark | ns/op | B/op | allocs/op |
|-----------|-------|------|-----------|
| BenchmarkCreateIssue | 7,401,711 | 1,596,094 | 16,482 |
| BenchmarkGetIssue | 1,010,413 | 473,703 | 5,720 |
| BenchmarkUpdateIssue | 13,885,328 | 6,078,175 | 45,615 |
| BenchmarkBulkCreateIssues (100) | 334,449,401 | 129,770,432 | 1,167,511 |
| BenchmarkBulkCreate1000Issues | 3,191,375,557 | 1,383,295,616 | 11,754,122 |

### Search & Queries

| Benchmark | ns/op | B/op | allocs/op |
|-----------|-------|------|-----------|
| BenchmarkSearchIssues | 5,672,742 | 1,778,265 | 21,821 |
| BenchmarkSearchWithFilter | 2,524,967 | 1,001,937 | 11,601 |
| BenchmarkGetStatistics | 7,797,139 | 3,897,314 | 47,047 |
| BenchmarkGetReadyWork | 7,427,893 | 3,260,229 | 33,761 |

### Dependencies

| Benchmark | ns/op | B/op | allocs/op |
|-----------|-------|------|-----------|
| BenchmarkAddDependency | 5,300,329 | 768,543 | 7,656 |
| BenchmarkGetDependencies | 1,997,776 | 801,023 | 10,356 |
| BenchmarkIsBlocked | 1,209,173 | 469,656 | 6,382 |

### Labels

| Benchmark | ns/op | B/op | allocs/op |
|-----------|-------|------|-----------|
| BenchmarkAddLabel | 4,271,405 | 527,103 | 5,179 |
| BenchmarkGetLabels | 272,144 | 63,922 | 1,374 |

### Concurrency

| Benchmark | ns/op | B/op | allocs/op |
|-----------|-------|------|-----------|
| BenchmarkConcurrentReads | 1,109,385 | 473,908 | 5,723 |
| BenchmarkConcurrentWrites | 8,400,245 | 1,583,360 | 16,466 |
| BenchmarkConcurrentMixedWorkload | 2,481,213 | 697,713 | 7,828 |

### Version Control Operations

| Benchmark | ns/op | B/op | allocs/op |
|-----------|-------|------|-----------|
| BenchmarkCommit | 15,053,390 | 3,452,734 | 33,692 |
| BenchmarkLog | 173,419 | 61,290 | 1,095 |

## Recommendations

1. **Enable Server Mode for CLI-Heavy Workloads**: The 76ms bootstrap overhead adds up quickly for frequent CLI commands. Server mode (already default) amortizes this cost.

2. **Use Batch Operations for Imports**: Bulk insert is ~2x faster per-issue than individual inserts. Always batch when importing.

3. **Consider Caching for Read-Heavy Workloads**: Warm cache performance is excellent. Long-running processes benefit significantly.

4. **Monitor Update Performance**: Updates are relatively slow (14ms). Profile if this becomes a bottleneck.

## Running These Benchmarks

```bash
# Full benchmarks
make bench-dolt

# Quick benchmarks (100ms benchtime)
make bench-dolt-quick

# Compare SQLite vs Dolt
make bench-compare

# JSON output for CI
./scripts/dolt-benchmark.sh -j > results.json
```

---
*Generated by dolt_perf_doctor crew*
