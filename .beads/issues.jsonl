{"id":"bd-8da","title":"Fix prefix extraction for multi-hyphen prefixes with hash IDs","description":"Fixed bug where issue IDs with multiple hyphens in the prefix and hash suffixes were incorrectly parsed. For example, 'web-app-a3f8e9' was being parsed as prefix 'web-' instead of 'web-app'.\n\nThe root cause was in ExtractIssuePrefix() which only checked for numeric suffixes. When it encountered a hash suffix (like 'a3f8e9'), it would fall back to using the first hyphen instead of the last hyphen.\n\nThe fix adds hash detection logic via isLikelyHash() which checks if a suffix looks like a hexadecimal hash (4-8 characters, all hex digits). This allows the function to correctly handle both numeric and hash suffixes.\n\nTest cases added for:\n- web-app-123 (numeric suffix)\n- web-app-a3f8e9 (hash suffix)  \n- my-cool-app-a3f8e9 (three-part prefix with hash)\n- super-long-project-name-1a2b (four-part prefix with hash)\n- Various hash lengths (4-6 chars)\n- Uppercase and mixed-case hashes\n\nFiles modified:\n- internal/utils/issue_id.go: Added isLikelyHash() and updated ExtractIssuePrefix()\n- internal/utils/id_parser_test.go: Added comprehensive test cases\n\nThis fix enables beads to work correctly with projects that have hyphens in their names.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-29T15:01:09.544178-05:00","updated_at":"2025-11-29T15:01:18.385453-05:00","closed_at":"2025-11-29T15:01:18.385453-05:00"}
{"id":"bd-bx9","title":"bd init --contributor should configure sync.remote=upstream for fork workflows","description":"When running `bd init --contributor` in a fork workflow (where `upstream` remote points to the original repo), the wizard should configure beads to sync from `upstream/main` rather than `origin/main`.\n\n**Current behavior:**\n- Contributor mode detects the fork setup (upstream remote exists)\n- Sets up planning repo and auto-routing\n- Does NOT configure sync remote\n- `bd sync` on feature branches shows \"No upstream configured, using --from-main mode\" and syncs from `origin/main`\n\n**Expected behavior:**\n- Contributor mode should also set `sync.remote = upstream` (or similar config)\n- `bd sync` should pull beads from `upstream/main` (source of truth)\n\n**Why this matters:**\n- The fork's `origin/main` may be behind `upstream/main`\n- Contributors want the latest issues from the source repo\n- Code PRs go: local -\u003e origin -\u003e upstream, but beads should come FROM upstream\n\n**Suggested fix:**\nAdd to `runContributorWizard()` after detecting fork:\n```go\nif isFork {\n    store.SetConfig(ctx, \"sync.remote\", \"upstream\")\n}\n```","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-29T00:39:05.137488727-05:00","updated_at":"2025-11-29T00:39:05.137488727-05:00"}
