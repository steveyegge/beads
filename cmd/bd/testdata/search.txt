# Test bd search command

bd init --prefix test

# Create issues with different attributes
bd create 'Login authentication bug' --type bug --priority 1
bd create 'Database refactor task' --type task --priority 3
bd create 'User profile feature' --type feature

# Basic search by text
bd search 'authentication'
stdout 'Login authentication bug'

# Search with status filter
bd search 'bug' --status open
stdout 'Login authentication bug'

# Search with no results
bd search 'nonexistent-term-xyz'
! stdout 'Login'
! stdout 'Database'

# Search with no query should fail
! bd search --type task
stderr 'search query is required'
