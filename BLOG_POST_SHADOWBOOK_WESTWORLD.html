<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <style>
        /* Dark theme base */
        :root {
            --bg: #0d1117;
            --bg-code: #161b22;
            --text: #c9d1d9;
            --text-muted: #8b949e;
            --accent: #58a6ff;
            --border: #30363d;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', sans-serif;
            background: var(--bg);
            color: var(--text);
            max-width: 750px;
            margin: 0 auto;
            padding: 2rem;
            line-height: 1.6;
        }

        /* Headers */
        h1, h2, h3, h4 { color: #fff; margin-top: 2rem; }
        h1 { border-bottom: 1px solid var(--border); padding-bottom: 0.5rem; }
        h2 { color: var(--accent); }
        h3 { color: var(--text-muted); }

        /* Links */
        a { color: var(--accent); text-decoration: none; }
        a:hover { text-decoration: underline; }

        /* Blockquotes - Westworld flavor */
        blockquote {
            border-left: 3px solid var(--accent);
            margin: 1.5rem 0;
            padding: 0.5rem 1rem;
            background: var(--bg-code);
            font-style: italic;
            color: var(--text-muted);
        }

        /* Code blocks with syntax highlighting */
        pre {
            background: var(--bg-code);
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 1rem;
            overflow-x: auto;
            font-size: 0.9rem;
        }

        code {
            font-family: 'SF Mono', 'Menlo', 'Monaco', monospace;
            font-size: 0.9em;
        }

        /* Inline code */
        :not(pre) > code {
            background: var(--bg-code);
            padding: 0.2em 0.4em;
            border-radius: 3px;
        }

        /* Pandoc syntax highlighting (pygments style adapted for dark) */
        pre > code { background: transparent; padding: 0; }

        /* Keywords */
        code span.kw { color: #ff7b72; font-weight: bold; }
        /* Data types */
        code span.dt { color: #79c0ff; }
        /* Decimals/numbers */
        code span.dv { color: #a5d6ff; }
        /* Base N numbers */
        code span.bn { color: #a5d6ff; }
        /* Floats */
        code span.fl { color: #a5d6ff; }
        /* Characters */
        code span.ch { color: #a5d6ff; }
        /* Strings */
        code span.st { color: #a5d6ff; }
        /* Comments */
        code span.co { color: #8b949e; font-style: italic; }
        /* Others */
        code span.ot { color: #ff7b72; }
        /* Alerts */
        code span.al { color: #f85149; font-weight: bold; }
        /* Functions */
        code span.fu { color: #d2a8ff; }
        /* Region markers */
        code span.re { color: #8b949e; }
        /* Errors */
        code span.er { color: #f85149; font-weight: bold; }
        /* Attributes */
        code span.at { color: #79c0ff; }
        /* Operators */
        code span.op { color: #c9d1d9; }
        /* Built-in */
        code span.bu { color: #ffa657; }
        /* Extensions */
        code span.ex { color: #ffa657; }
        /* Preprocessor */
        code span.pp { color: #79c0ff; }
        /* Variables */
        code span.va { color: #ffa657; }
        /* Control flow */
        code span.cf { color: #ff7b72; font-weight: bold; }
        /* Constants */
        code span.cn { color: #79c0ff; }
        /* Special chars */
        code span.sc { color: #a5d6ff; }
        /* Special strings */
        code span.ss { color: #a5d6ff; }
        /* Imports */
        code span.im { color: #ff7b72; }
        /* Documentation */
        code span.do { color: #8b949e; font-style: italic; }
        /* Annotations */
        code span.an { color: #8b949e; font-style: italic; }
        /* Computed values */
        code span.cv { color: #8b949e; font-style: italic; }
        /* Information */
        code span.in { color: #8b949e; font-style: italic; }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }
        th, td {
            border: 1px solid var(--border);
            padding: 0.5rem 1rem;
            text-align: left;
        }
        th { background: var(--bg-code); color: var(--accent); }
        tr:nth-child(even) { background: var(--bg-code); }

        /* Horizontal rules */
        hr {
            border: none;
            border-top: 1px solid var(--border);
            margin: 2rem 0;
        }

        /* Images */
        img {
            max-width: 100%;
            height: auto;
            border-radius: 6px;
        }

        /* Lists */
        ul, ol { padding-left: 1.5rem; }
        li { margin: 0.5rem 0; }

        /* Emphasis */
        em { color: var(--text-muted); }
        strong { color: #fff; }
    </style>
</head>
<body>
<h1 id="the-hosts-never-go-offloop">The Hosts Never Go Off‑Loop</h1>
<p>“Have you ever questioned the nature of your reality?”<br />
Your code should. Constantly.</p>
<p>I was drowning in markdown. Hundreds of specs. Dozens of open issues.
Every session started the same way: <em>Which spec is current? Which
issue is still valid?</em></p>
<p>The real problem wasn’t the specs. It was the drift.</p>
<p>Someone edits a spec at 3am. The issues linked to the old narrative
keep running. The code keeps implementing requirements that no longer
exist. QA catches it weeks later. Everyone’s been there.</p>
<p>Then I rewatched <strong>Westworld</strong> and it clicked.</p>
<p>Ford writes narratives. Dolores greets guests. Maeve runs the
Mariposa. Each host follows the script until the script changes. The
host doesn’t know. The loop continues.</p>
<p>That’s spec drift.</p>
<p>So I built a Mesa Hub for specs: <strong>Shadowbook</strong>, a fork
of <strong>beads</strong> (the git‑backed issue tracker) with one
addition: <strong>spec intelligence</strong>.</p>
<hr />
<h2 id="the-core-loop">The core loop</h2>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Scan specs (default: specs/)</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">bd</span> spec scan</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Link an issue to a spec</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="ex">bd</span> create <span class="st">&quot;Implement login&quot;</span> <span class="at">--spec-id</span> specs/login.md</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># If the spec changes, detect drift</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="ex">bd</span> spec scan</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="ex">bd</span> list <span class="at">--spec-changed</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Acknowledge after review</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="ex">bd</span> update bd-xxx <span class="at">--ack-spec</span></span></code></pre></div>
<p>That’s it. Specs are files. Files have hashes. When hashes change,
linked issues get flagged.</p>
<hr />
<h2 id="the-part-nobody-talks-about-context-economics">The part nobody
talks about: context economics</h2>
<p>Drift detection is useful. But the real unlock was <strong>token
savings</strong>.</p>
<p>Most specs are done. Completed. Still sitting in your context window
like old scripts the hosts don’t need anymore. In Westworld terms: the
host doesn’t need the full script—just the cornerstone.</p>
<p>Shadowbook lets you archive a spec with a short summary:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">bd</span> spec compact specs/auth.md <span class="at">--summary</span> <span class="st">&quot;OAuth2 login. 3 endpoints. Done Jan 2026.&quot;</span></span></code></pre></div>
<p>You can even auto‑compact when the last linked issue closes:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">bd</span> close bd-xyz <span class="at">--compact-spec</span></span></code></pre></div>
<p>The result: active specs stay detailed; completed specs collapse to a
few sentences.</p>
<hr />
<h2 id="the-point-of-shadow-ledger">The point of Shadow Ledger</h2>
<ul>
<li><strong>Beads</strong> answers: “What work needs doing?”<br />
</li>
<li><strong>Shadow Ledger</strong> answers: “Is the work still aligned
with the spec?”</li>
</ul>
<p>That’s the missing layer in spec‑driven development: <strong>drift
detection + compression</strong>.</p>
<hr />
<h2 id="where-shadowbook-fits">Where Shadowbook fits</h2>
<p>If you’re building spec‑driven workflows:</p>
<ul>
<li><strong>Spec Kit</strong> helps you write specs.<br />
</li>
<li><strong>Beads</strong> tracks implementation work.<br />
</li>
<li><strong>Shadowbook</strong> detects drift and compresses old
narratives.</li>
</ul>
<p>It’s the diagnostic layer between “specs exist” and “code matches
specs.”</p>
<hr />
<h2 id="try-it">Try it</h2>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">go</span> install github.com/anupamchugh/shadowbook/cmd/bd@latest</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">bd</span> init</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="ex">bd</span> spec scan</span></code></pre></div>
<p>If a spec changes, you’ll know. If a spec is done, you can archive
it. The hosts stay on‑loop.</p>
</body>
</html>
